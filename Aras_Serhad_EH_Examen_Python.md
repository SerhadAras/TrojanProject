# Vraag 1


- Hoe kan het initialisatie-proces verlopen als je niet op voorhand weet in welke context je applicatie is terecht gekomen en je dus eerst kennis wil verwerven over deze context?

Afhankelijk van je modules kan het initialisatie-proces gaan verschillen. Als je een module hebt die screenshots maakt dan moet je eerst gaan controleren hoeveel schermen er worden gedetecteerd op het huidige systeem. Als je een module hebt die alle netwerkdevices verzamelt dan moet je controleren op hoeveel internetverbinding de victim is aangesloten. Heeft hij 2 wificonnecties en daarbij nog een bekabelde connectie, enz.  Wat je bv standaard kan doen indien je zoâ€™n zaken niet weet is default gegevens overnemen, bv. Er van uitgaan dat er minstens 1 wifi-connectie aanwezig is indien je trojan draait op een laptop, enz. 

 - Welke module(s) zou je voorzien en hoe zou je deze zo efficiÃ«nt mogelijk kunnen implementeren. Beschrijf ook (telkens) de functionaliteit.
 
 - Momenteel gaan we er vanuit dat python is geÃ¯nstalleerd op het toestel van de client, maar dat is natuurlijk niet altijd het geval. Een extra module zou hiervoor natuurlijk ook niet werken omdat je geen python hebt maar wat we wel kunnen doen is standaard een binary maken om python te installeren en deze standaard runnen, zelfs als python is geÃ¯nstalleerd. Zo verhogen we onze kans op vangst van data.

- Indien we internationaal actief zouden zijn dan kunnen we sub folders gebruiken waarbij clients per land worden gecategoriseerd. Hierdoor hebben we een duidelijker overzicht tijdens het loggen van de data afkomstig van onze slachtoffers. 
Een module die controleert op dat de trojan draait of niet zou ook een bruikbare module kunnen zijn. Zo kunnen we indien de trojan is uitgeschakelt deze terug proberen aan te zetten. We kunnen bv werken met een process ID tijdens het starten van de trojan. Deze module controleert constant deze process ID en gaat zien of deze nog draait of niet. Indien deze niet meer draait dan probeert die de trojan zelf te starten en dan weer in de gaten te houden met een nieuwe process ID. 

Welke aanpassingen voorzie je te maken aan het framework, aan het configuratiegedeelte en aan de data-verzameling.
- Omdat we een multiclient versie willen hebben van onze trojan is het verstandig om een aparte module te hebben die enkel de data verstuurt naar de github repo. Met deze module kunnen we dan een mooie overzicht maken voor elke client waardoor we weten welke data van welke client komt. Dit doen we door steeds het IP-adres van de client te loggen, inclusief de datum van de log. Momenteel zijn de bestandsnamen van de datafiles die op github worden geplaatst een combinatie van datum en tijd, enz. Om het bestandsnaam nu aan te passen lijkt mij niet zo een goed idee. Het meest logische zou zijn om het IP van de client samen met de datum te noteren als bestandsnaam maar dat zou bij een data lekkage enorm gaan opvallen en dat is volgens een ethische hacker niet ethisch want dit is gevoelige informatie ðŸ˜Š. Tijdens het loggen kunnen we dan gemakkelijk alle IP-adressen erbij gaan nemen omdat ze door de module altijd op dezelfde manier en op dezelfde plaatst wordt genoteerd. Om dit efficiÃ«nt aan te pakken kunnen we de data per client stockeren in een folder waardoor we telkens maar 1 keer zijn/haar IP-adres moeten gaan achterhalen en gaan noteren in een file. Deze file kunnen we bv. ClientInfo.txt noemen en deze file zal elke client hebben bovenaan zijn folder. Hierdoor heb je niet bij elke verschillende module die data verzamelt de noodzaak om een IP adres op te zoeken en te gaan noteren. Zo besparen we tijd en bandbreedte op de client zijn machine en kunnen we minder snel gedetecteerd wordenâ€¦

- Momenteel werken we met base64 om de data weg te sturen naar github. Wat een handige module zou zijn is om sowieso plain tekst data die naar base64 wordt omgezet eerst te converteren naar JSON zodat tijdens het loggen het gemakkelijker is voor de aanvaller om alles te analyseren. Deze module zal zowel de convert naar JSON uitvoeren en dan encrypten met base64 en zal ook decrypten van base64 naar plain tekst (JSON). 

# Vraag 2
Geef vier verbeteringen die kunnen gemaakt worden om het framework efficiÃ«nter, minder opvallend (meer stealthy), of minder informatie over de aanvaller te verstrekken indien ontdekt en geanalyseerd. Som op en verklaar elke verbetering.
1)	We kunnen bv het aantal modules die mogen gedraaid worden flexibel gaan uitbouwen. Wanneer de client veel resources van zijn machine gebruikt dan kunnen we constateren dat de client druk bezig is of dat hij een zware taak aan het runnen is. Op dat moment is het daarom niet verstandig om alle modules tegelijkertijd te starten waardoor de client zijn machine misschien zou gaan crashen en dat hij naar het probleem zoekt. We willen op zoâ€™n moment weinig of geen modules laten draaien. Dit kunnen we doen door drempelwaardes op bepaalde resources. Bv. Wordt er meer dan 80% RAM gebruikt dan draaien we minder modules enz.
2)	Om minder op te vallen is met tijdsintervallen te werken een goed idee waardoor we niet constant de modules runnen maar per uur of dag.
3)	We kunnen bv een module maken die update meldingen gaat onderdrukken. Hierdoor beperken we de pakkans door minder kans door het systeem te sturen. Hoe ouder een software is hoe meer de kans op bugs in de toekomst en dus hoe meer we van onze trojan kunnen inzetten voor het verzamelen van data.
4)	In meerdere modules gebeuren steeds dezelfde dingen, zoals IP-adres ophalen, netwerkdevices ophalen enz. Deze acties kunnen we op 1 plaats zetten en de data hiervan dan beschikbaar stellen voor alle modules die hier toegang toe nodig hebben. 

# Vraag 3
Hoe kan je als organisatie het best wapenen tegen dergelijke tools? Hoe zou jij dit aanpakken? Verklaar.

-	Allereerst heb je menselijk aspect waarbij bv. Een gevonden USB-stick onderweg van de parking naar het werkkantoor zomaar wordt ingeplugd in het bedrijfsnetwerk waarop een trojan of dergelijke kan staan. Dit moet serieus getraind en geoefend worden. 
-	Trojans die via applicaties gedownload worden op de browser moeten verboden worden in een organisatie. Geen enkele werknemer kan en mag applicaties installeren op zijn of haar bedrijfslaptop/PC. Alle nodige apps zouden moeten voorzien worden door de systeembeheerder doormiddel van Intune. 
-	Update steeds je apparaten. Alle apparaten en vooral software moeten steeds draaien op de laatste versie die de fabrikant aanbiedt. Zij weten namelijk het beste over wanneer een update nodig is.
-	Gebruik een intrusion detection system. Hiermee kun je je netwerkverkeer monitoren en verdachte activiteiten gaan detecteren. In combinatie van een IDS is het ook verstandig om antivirussen te gebruiken zoals windows defender bv. Deze kunnen we dan beheren en analyseren met Windows Defender For Endpoint.
